{"ast":null,"code":"var _jsxFileName = \"/Users/keqinyang/Desktop/Kevin-Chat-Room/chatapp/src/components/ChatBox.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport ChatBoxStyle from './ChatBoxStyle';\nimport { Paper } from '@mui/material';\nimport ChatTop from './ChatTop';\nimport ChatBottom from './ChatBottom';\nimport axios from 'axios';\nimport { getMessageRoute, sendMessageRoute } from '../api/ApiRoutes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ChatBox = _ref => {\n  _s();\n\n  let {\n    current,\n    currentChatter\n  } = _ref;\n  const [messages, setMessages] = useState([]);\n  useEffect(() => {\n    async function fetchMessage() {\n      const response = await axios.post(getMessageRoute, {\n        sender: current._id,\n        receiver: currentChatter._id\n      });\n      setMessages(response.data);\n    }\n\n    fetchMessage();\n  }, [currentChatter]);\n\n  const handleMessageSend = async message => {\n    await axios.post(sendMessageRoute, {\n      sender: current._id,\n      receiver: currentChatter._id,\n      message: message\n    });\n  };\n\n  const classes = ChatBoxStyle();\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    position: \"fixed\",\n    sx: {\n      bgcolor: \"#F5F5F5\",\n      margin: \"2.5vh\",\n      height: \"95vh\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.Content,\n      children: [/*#__PURE__*/_jsxDEV(ChatTop, {\n        currentChatter: currentChatter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ChatBottom, {\n        handleSend: handleMessageSend\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ChatBox, \"RyA59LRbn9goj/9N7rELX+NWNVI=\");\n\n_c = ChatBox;\nexport default ChatBox;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatBox\");","map":{"version":3,"names":["React","useState","useEffect","ChatBoxStyle","Paper","ChatTop","ChatBottom","axios","getMessageRoute","sendMessageRoute","ChatBox","current","currentChatter","messages","setMessages","fetchMessage","response","post","sender","_id","receiver","data","handleMessageSend","message","classes","bgcolor","margin","height","Content"],"sources":["/Users/keqinyang/Desktop/Kevin-Chat-Room/chatapp/src/components/ChatBox.jsx"],"sourcesContent":["import React, {useState, useEffect} from 'react'\nimport ChatBoxStyle from './ChatBoxStyle'\nimport { Paper } from '@mui/material';\nimport ChatTop from './ChatTop';\nimport ChatBottom from './ChatBottom';\nimport axios from 'axios';\nimport { getMessageRoute, sendMessageRoute } from '../api/ApiRoutes';\n\nconst ChatBox = ({ current, currentChatter }) => {\n\n  const [messages, setMessages] = useState([]);\n  useEffect(() => {\n    async function fetchMessage() {\n      const response = await axios.post(getMessageRoute, {\n        sender: current._id,\n        receiver: currentChatter._id,\n      })\n      setMessages(response.data);\n    }\n    fetchMessage()\n  }, [currentChatter])\n\n  const handleMessageSend = async (message) => {\n    await axios.post(sendMessageRoute, {\n      sender: current._id,\n      receiver: currentChatter._id,\n      message: message,\n    })\n  }\n\n  const classes = ChatBoxStyle();\n  return (\n    <Paper position=\"fixed\" sx={{ bgcolor: \"#F5F5F5\", margin: \"2.5vh\", height: \"95vh\" }}>\n      <div className={classes.Content}>\n        <ChatTop currentChatter={currentChatter} />\n        <ChatBottom handleSend={handleMessageSend} />\n      </div>\n    </Paper>\n  )\n}\n\nexport default ChatBox"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAASC,KAAT,QAAsB,eAAtB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,EAA0BC,gBAA1B,QAAkD,kBAAlD;;;AAEA,MAAMC,OAAO,GAAG,QAAiC;EAAA;;EAAA,IAAhC;IAAEC,OAAF;IAAWC;EAAX,CAAgC;EAE/C,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,EAAD,CAAxC;EACAC,SAAS,CAAC,MAAM;IACd,eAAea,YAAf,GAA8B;MAC5B,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,IAAN,CAAWT,eAAX,EAA4B;QACjDU,MAAM,EAAEP,OAAO,CAACQ,GADiC;QAEjDC,QAAQ,EAAER,cAAc,CAACO;MAFwB,CAA5B,CAAvB;MAIAL,WAAW,CAACE,QAAQ,CAACK,IAAV,CAAX;IACD;;IACDN,YAAY;EACb,CATQ,EASN,CAACH,cAAD,CATM,CAAT;;EAWA,MAAMU,iBAAiB,GAAG,MAAOC,OAAP,IAAmB;IAC3C,MAAMhB,KAAK,CAACU,IAAN,CAAWR,gBAAX,EAA6B;MACjCS,MAAM,EAAEP,OAAO,CAACQ,GADiB;MAEjCC,QAAQ,EAAER,cAAc,CAACO,GAFQ;MAGjCI,OAAO,EAAEA;IAHwB,CAA7B,CAAN;EAKD,CAND;;EAQA,MAAMC,OAAO,GAAGrB,YAAY,EAA5B;EACA,oBACE,QAAC,KAAD;IAAO,QAAQ,EAAC,OAAhB;IAAwB,EAAE,EAAE;MAAEsB,OAAO,EAAE,SAAX;MAAsBC,MAAM,EAAE,OAA9B;MAAuCC,MAAM,EAAE;IAA/C,CAA5B;IAAA,uBACE;MAAK,SAAS,EAAEH,OAAO,CAACI,OAAxB;MAAA,wBACE,QAAC,OAAD;QAAS,cAAc,EAAEhB;MAAzB;QAAA;QAAA;QAAA;MAAA,QADF,eAEE,QAAC,UAAD;QAAY,UAAU,EAAEU;MAAxB;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAQD,CA/BD;;GAAMZ,O;;KAAAA,O;AAiCN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}